<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тобі лист ❤️</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="envelope-wrapper" id="envelope">
        <div class="envelope">
            <div class="flap"></div>
            <div class="letter">
                <div class="heart-icon">❤️</div>
                <h1>Кохаю тебе!</h1>
                <p>Ти — найкраще, що сталось зі мною. <br> З Днем Валентина!</p>
            </div>
            <div class="front"></div>
        </div>
    </div>

    <script>
        const envelope = document.getElementById('envelope');

        // Відкриття/закриття конверта
        envelope.addEventListener('click', () => {
            if (!envelope.classList.contains('open')) {
                envelope.classList.add('open');
                createHeartExplosion();
            } else {
                envelope.classList.remove('open');
            }
        });

        // Вибух сердечок при натисканні
        function createHeartExplosion() {
            const count = 30;
            const rect = envelope.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                heart.classList.add('exploding-heart');
                heart.innerHTML = '❤️';
                heart.style.left = centerX + 'px';
                heart.style.top = centerY + 'px';

                const angle = Math.random() * Math.PI * 2;
                const distance = 100 + Math.random() * 200;
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;

                heart.style.setProperty('--x', `${x}px`);
                heart.style.setProperty('--y', `${y}px`);

                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 1000);
            }
        }

        // Постійні фонові сердечка
        function createBackgroundHeart() {
            const heart = document.createElement('div');
            heart.classList.add('bg-heart');
            heart.innerHTML = '❤️';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = Math.random() * 15 + 10 + 'px';
            heart.style.opacity = Math.random() * 0.5 + 0.2;
            heart.style.animationDuration = Math.random() * 3 + 5 + 's';
            
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 8000);
        }
        setInterval(createBackgroundHeart, 400);
    </script>
</body>
</html>